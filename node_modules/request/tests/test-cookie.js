var Cookie = require('../vendor/cookie')
  , assert = require('assert');

var str = 'sid="s543qactge.wKE61E01Bs%2BKhzmxrwrnug="; path=/; httpOnly; expires=Sat, 04 Dec 2010 23:27:28 GMT';
var cookie = new Cookie(str);

// tests .toString()
assert.equal(cookie.toString(), str);

// tests .path
assert.equal(cookie.path, '/');

// tests .httpOnly
assert.equal(cookie.httpOnly, true);

// tests .name
assert.equal(cookie.name, 'sid');

// tests .value
assert.equal(cookie.value, '"s543qactge.wKE61E01Bs%2BKhzmxrwrnug="');

// tests .expires
assert.equal(cookie.expires instanceof Date, true);

// tests .path default
var cookie = new Cookie('foo=bar', { url: 'http://foo.com/bar' });
assert.equal(cookie.path, '/bar');

console.log('All tests passed');
